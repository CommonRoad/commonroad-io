<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Visualization Manual &mdash; CommonRoad_io 2022.3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CommonRoad_io API" href="../api/index.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> CommonRoad_io
            <img src="../_static/commonroad_white150.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2022.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#reading-files">Reading Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#scenario">Scenario</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#lanelet-network">Lanelet Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#obstacles">Obstacles</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#dynamic-obstacle-prediction">Dynamic Obstacle Prediction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#trajectory-prediction">Trajectory Prediction</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#set-based-prediction">Set Based Prediction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#planning-problems">Planning Problems</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#writing-files">Writing Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#solution-writer">Solution Writer</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Visualization Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-plots-in-commonroad">Creating plots in CommonRoad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#styling-options">Styling options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#plot-limits"><code class="docutils literal notranslate"><span class="pre">plot_limits</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">CommonRoad_io API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/scenario.html">Module Scenario</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#module-commonroad.scenario.scenario">Scenario</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#module-commonroad.scenario.lanelet">Road network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#module-commonroad.scenario.traffic_sign">Traffic Sign</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#traffic-light">Traffic Light</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#module-commonroad.scenario.traffic_sign_interpreter">Traffic Sign Interpreter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#intersection">Intersection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#obstacles">Obstacles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#module-commonroad.scenario.trajectory">Trajectories</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/scenario.html#module-commonroad.scenario.state">States</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/prediction.html">Module Prediction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/prediction.html#prediction-class"><code class="docutils literal notranslate"><span class="pre">Prediction</span></code> class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/prediction.html#trajectoryprediction-class"><code class="docutils literal notranslate"><span class="pre">TrajectoryPrediction</span></code> class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/prediction.html#setbasedprediction-class"><code class="docutils literal notranslate"><span class="pre">SetBasedPrediction</span></code> class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/prediction.html#occupancy-class"><code class="docutils literal notranslate"><span class="pre">Occupancy</span></code> class</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/planning.html">Module Planning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/planning.html#module-commonroad.planning.planning_problem">Planning Problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/planning.html#module-commonroad.planning.goal">Goal Region</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/geometry.html">Module Geometry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/geometry.html#module-commonroad.geometry.shape">Shape</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/geometry.html#module-geometry.transform">Transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/geometry.html#module-geometry.polyline_util">Polyline Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/common.html">Module Common</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/common.html#module-commonroad.common.file_reader">File Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/common.html#module-commonroad.common.file_writer">File Writer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/common.html#solution-reader-and-writer">Solution Reader and Writer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/common.html#module-commonroad.common.util">Util</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/visualization.html">Module Visualization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/visualization.html#module-commonroad.visualization.drawable">Drawing interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/visualization.html#module-commonroad.visualization.draw_params">Drawing parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CommonRoad_io</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">User Manual</a></li>
      <li class="breadcrumb-item active">Visualization Manual</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/visualization.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="visualization-manual">
<span id="id1"></span><h1>Visualization Manual<a class="headerlink" href="#visualization-manual" title="Permalink to this heading"></a></h1>
<p>For the visualization of CommonRoad, we use the <a class="reference external" href="https://en.wikipedia.org/wiki/Visitor_pattern">visitor pattern</a>. A visitor object, which we call <em>renderer</em> subsequently, has first to be instantiated. Afterward, the drawing function <a class="reference internal" href="../api/visualization.html#commonroad.visualization.drawable.IDrawable.draw" title="commonroad.visualization.drawable.IDrawable.draw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draw()</span></code></a> of the <a class="reference internal" href="../api/visualization.html#commonroad.visualization.drawable.IDrawable" title="commonroad.visualization.drawable.IDrawable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IDrawable</span></code></a> interface has to be called on all objects that should be visualized. All objects of the scenario and planning problems implement this function and can be individually drawn. Finally when all objects were drawn, <code class="xref py py-meth docutils literal notranslate"><span class="pre">render()</span></code> is called on the renderer to show the objects. Currently, <a class="reference external" href="https://matplotlib.org">matplotlib</a> is the only supported rendering engine in CommonRoad. It is implemented in the <code class="xref py py-class docutils literal notranslate"><span class="pre">MPRenderer</span></code>-class.</p>
<section id="creating-plots-in-commonroad">
<h2>Creating plots in CommonRoad<a class="headerlink" href="#creating-plots-in-commonroad" title="Permalink to this heading"></a></h2>
<p>The drawing function is used in combination with <a class="reference external" href="https://matplotlib.org">matplotlib</a>. Therefore, the visualization of CommonRoad objects can be combined with standard matplotlib drawing functions. A simple example for plotting scenario and the corresponding planning problem set with default parameters would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">commonroad.common.file_reader</span> <span class="kn">import</span> <span class="n">CommonRoadFileReader</span>
<span class="kn">from</span> <span class="nn">commonroad.visualization.mp_renderer</span> <span class="kn">import</span> <span class="n">MPRenderer</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;path/to/scenario/USA_US101-2_1_T-1.xml&#39;</span>
<span class="n">scenario</span><span class="p">,</span> <span class="n">planning_problem_set</span> <span class="o">=</span> <span class="n">CommonRoadFileReader</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>

<span class="n">rnd</span> <span class="o">=</span> <span class="n">MPRenderer</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">4.5</span><span class="p">))</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">rnd</span><span class="p">)</span>
<span class="n">planning_problem_set</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">rnd</span><span class="p">)</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../user/visualization-1.py">Source code</a>, <a class="reference external" href="../user/visualization-1.png">png</a>, <a class="reference external" href="../user/visualization-1.hires.png">hires.png</a>, <a class="reference external" href="../user/visualization-1.pdf">pdf</a>)</p>
<figure class="align-center">
<img alt="../_images/visualization-1.png" class="plot-directive" src="../_images/visualization-1.png" />
</figure>
</section>
<section id="styling-options">
<h2>Styling options<a class="headerlink" href="#styling-options" title="Permalink to this heading"></a></h2>
<p>The visualization of CommonRoad scenario objects can be customized by adjusting the drawing parameters in <a class="reference internal" href="../api/visualization.html#commonroad.visualization.draw_params.MPDrawParams" title="commonroad.visualization.draw_params.MPDrawParams"><code class="xref py py-class docutils literal notranslate"><span class="pre">MPDrawParams</span></code></a>.</p>
<p>The plotting style of the visualization module can be adjusted via two mechanisms:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Setting a set of default parameters in the constructor of <code class="xref py py-class docutils literal notranslate"><span class="pre">MPRenderer</span></code>, and</p></li>
<li><p>Providing the parameters by setting parameters on a per-object basis, when calling individual <a class="reference internal" href="../api/visualization.html#commonroad.visualization.drawable.IDrawable.draw" title="commonroad.visualization.drawable.IDrawable.draw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draw()</span></code></a> functions.</p></li>
</ol>
</div></blockquote>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h3>
<p>We want to draw dynamic obstacles in a scenario with a green and individual dynamic obstacles in yellow. This can be achieved by modifying the following drawing parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scenario</span><span class="p">,</span> <span class="n">planning_problem_set</span> <span class="o">=</span> <span class="n">CommonRoadFileReader</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">rnd</span> <span class="o">=</span> <span class="n">MPRenderer</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">4.5</span><span class="p">))</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">draw_params</span><span class="o">.</span><span class="n">dynamic_obstacle</span><span class="o">.</span><span class="n">vehicle_shape</span><span class="o">.</span><span class="n">occupancy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">facecolor</span> <span class="o">=</span> <span class="s2">&quot;yellow&quot;</span>
<span class="n">draw_params</span> <span class="o">=</span> <span class="n">DynamicObstacleParams</span><span class="p">()</span>
<span class="n">draw_params</span><span class="o">.</span><span class="n">vehicle_shape</span><span class="o">.</span><span class="n">occupancy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">facecolor</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">rnd</span><span class="p">)</span>
<span class="n">scenario</span><span class="o">.</span><span class="n">dynamic_obstacles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">rnd</span><span class="p">,</span> <span class="n">draw_params</span><span class="p">)</span>
<span class="n">planning_problem_set</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">rnd</span><span class="p">)</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../user/visualization-2.py">Source code</a>, <a class="reference external" href="../user/visualization-2.png">png</a>, <a class="reference external" href="../user/visualization-2.hires.png">hires.png</a>, <a class="reference external" href="../user/visualization-2.pdf">pdf</a>)</p>
<figure class="align-center">
<img alt="../_images/visualization-2.png" class="plot-directive" src="../_images/visualization-2.png" />
</figure>
<p>Note, that colors are specified as <a class="reference external" href="https://matplotlib.org/stable/tutorials/colors/colors.html">matplotlib colors</a>.</p>
</section>
</section>
<section id="plot-limits">
<h2><code class="docutils literal notranslate"><span class="pre">plot_limits</span></code><a class="headerlink" href="#plot-limits" title="Permalink to this heading"></a></h2>
<p>The drawn area of a scenario can be clipped by providing axes limits with <code class="code docutils literal notranslate"><span class="pre">plot_limits=[x_min,</span> <span class="pre">x_max,</span> <span class="pre">y_min,</span> <span class="pre">y_max]</span></code> to the renderer. In cases where performance matters, this option should be preferred over setting axes limits with <code class="code docutils literal notranslate"><span class="pre">pyplot.get_gca().set_xlim</span></code>. The latter would only crop the shown area of the scenario after drawing the whole scenario.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api/index.html" class="btn btn-neutral float-right" title="CommonRoad_io API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Moritz Klischat, Sebastian Maierhofer, Stefanie Manzinger, Christian Pek, Luis Gressenbuch, Anna-Katharina Rettinger.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>